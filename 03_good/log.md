# Userful tools and important concepts

## Composer

Compose is a tool for dependency manager for PHP. It can be downloaded from this [link](https://getcomposer.org/download/).

After composer is correctly installed, we need to use bash terminal to enter the directory we want to manage, and

Step1: input the command to generate composer.json:

```bash
composer init
```

The composer.json I generated is like:

```json
{
    "name": "ye/03_good",
    "autoload": {
        "psr-4": {
            "Ye\\03Good\\": "src/",
            "app\\":"./"
        }
    },
    "authors": [
        {
            "name": "myName",
            "email": "myName@sampleemail.com"
        }
    ],
    "require": {}
}

```

In this file, we need to specify **psr-4**, which is a community standard relating to class autoloading. By doing so, we can map namespace to physical directoyr structures. This can effectively help us to remove the *require\*/include\** keywords in our project. More explanation can be seen [here](https://glenneggleton.com/page/php-composer-psr-4-tutorial).

As we can see here, we have used **"app\\":"./"**, therefore, in each of the file contained in /app directory should add one sentence:

```php
namespace app;
```

so that those file cannot be referred to without mentioning the namespace. Once this is done, we can enter

Step 2: autoloading

This step begins with the command:

```bash
composer update
```

After that, we will find a vendor directory. Within this folder, we wil find a autoload.php, which is a key file for autoloading all our classes. My autoload.php looks like:

```php
<?php

// autoload.php @generated by Composer

if (PHP_VERSION_ID < 50600) {
    echo 'Composer 2.3.0 dropped support for autoloading on PHP <5.6 and you are running '.PHP_VERSION.', please upgrade PHP or use Composer 2.2 LTS via "composer self-update --2.2". Aborting.'.PHP_EOL;
    exit(1);
}

require_once __DIR__ . '/composer/autoload_real.php';

return ComposerAutoloaderInit8a9007866bc8bab8520ea32b396ed6e3::getLoader();
```

To use this file, instead of using whole bunch of *require*s, we need only one sentence:

```php
require_once "vendor/autoload.php";
```

After that, we can use the keyword **use** to include the classes we want like

```php
use app\Email;
use app\Person;
```

### Packagist

Packagist is the main Composer repository. It aggregates public PHP packages installable with Composer. Among those packages, guzzlehttp/guzzle is a PHP HTTP client library that makes it easy to send HTTP requests and trivial to integrate with web services. More detailed description can be found [here](https://packagist.org/packages/guzzlehttp/guzzle). To install the package, we need to run the command in terminal this:

```bash
composer require guzzlehttp/guzzle
```

After this package is installed, the following information should be included in the file composer.json

```json
"require": {
        "guzzlehttp/guzzle": "^7.4"
    }
```

** MVC

Modules, views and controllers. Actually, MVC is a big topic. Fortunately, I found another [video form Zura](https://www.youtube.com/watch?v=GTESlsYTUns), which is specially dedicated to this topic.

## Singleton

When we try to create the Database class, we realize this class is a singleton, since it contains only one instance. Actually, after I googled around, I realized there is a something called *Singleton Design Pattern*. By using the Singleton Design here, we garantee there is only one database connection object. More information can be found on [Geeks for Geeks](https://www.geeksforgeeks.org/how-to-create-singleton-design-pattern-in-php-5/).

## Static Function

In some scenario, if we want to get access to some methods or properties DIRECTLY from a class rather than an object, we need to set up static function and declare static properties.They can be invoked directly outside the class by using scope resolution operator (::) as follows:

```php
MyClass :: test();
```

 More examples and explanations can be seen [here](https://www.geeksforgeeks.org/static-function-in-php/#:~:text=Any%20method%20declared%20as%20static,class%2C%20static%20keyword%20is%20used).

Static Function and property are used in the Singleton Database class. That is the reason we need to know the fundamental concepts here.

## Useful Links & TIps

What is [ob_start()](https://www.w3schools.com/php/ref_output_ob_start.asp#:~:text=The%20ob_start()%20function%20creates,buffer%20is%20able%20to%20do.)?
